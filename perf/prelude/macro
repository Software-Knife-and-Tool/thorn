(mu:type-of ((:lambda () (prelude:compile '(define-macro prelude:a-macro () prelude:a-macro)) (prelude:macro-function 'prelude:a-macro ()))))
((:lambda () (prelude:compile '(define-macro no-arg-macro () ''no-arg-macro)) (prelude:macroexpand '(no-arg-macro) ())))
((:lambda () (prelude:compile '(define-macro no-arg-macro () ''no-arg-macro)) (mu:eval (prelude:compile '(no-arg-macro)))))
((:lambda () (prelude:compile '(define-macro arg-macro (arg) arg)) (prelude:macroexpand '(arg-macro (mu:fx-add 1 2)) ())))
((:lambda () (prelude:compile '(define-macro arg-macro (arg) arg)) (mu:eval (prelude:compile '(arg-macro (mu:fx-add 1 2))))))
((:lambda () (prelude:compile '(define-macro rest-macro (&rest args) (mu:cons '(lambda (&rest rest) rest) args))) (mu:eval (prelude:compile '(rest-macro (mu:fx-add 1 2))))))
((:lambda () (prelude:compile '(define-macro rest-macro (&rest args) (mu:cons '(lambda (&rest rest) rest) args))) (mu:eval (prelude:compile '(rest-macro (mu:fx-add 1 2) (mu:fx-add 3 4))))))
((:lambda () (prelude:compile '(define-macro rest-macro (&rest args) (mu:cons '(lambda (&rest rest) rest) args))) (mu:eval (prelude:compile '(rest-macro 1 2 3)))))
